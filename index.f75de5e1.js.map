{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst headers = table.querySelectorAll('th');\nconst sortDirection = Array(headers.length).fill(true);\nlet currentHeaderIndex = null;\nlet currentEditingCell = null;\n\nheaders.forEach((header, i) => {\n  header.addEventListener('click', () => {\n    const rows = Array.from(table.querySelectorAll('tbody tr'));\n\n    if (currentHeaderIndex !== i) {\n      sortDirection.fill(true);\n      currentHeaderIndex = i;\n    }\n\n    rows.sort((a, b) => {\n      const cellA = a.cells[i].textContent.trim().replace(/[$,]/g, '');\n      const cellB = b.cells[i].textContent.trim().replace(/[$,]/g, '');\n\n      if (isFinite(cellA) && isFinite(cellB)) {\n        return sortDirection[i] ? cellA - cellB : cellB - cellA;\n      } else {\n        return sortDirection[i]\n          ? cellA.localeCompare(cellB)\n          : cellB.localeCompare(cellA);\n      }\n    });\n\n    sortDirection[i] = !sortDirection[i];\n    rows.forEach((row) => table.querySelector('tbody').appendChild(row));\n  });\n});\n\ntable.querySelectorAll('tbody tr').forEach((row) => {\n  row.addEventListener('click', () => {\n    table\n      .querySelectorAll('tbody tr')\n      .forEach((r) => r.classList.remove('active'));\n\n    row.classList.add('active');\n  });\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nconst fields = [\n  {\n    label: 'Name:',\n    name: 'name',\n    type: 'text',\n    qa: 'name',\n  },\n  {\n    label: 'Position:',\n    name: 'position',\n    type: 'text',\n    qa: 'position',\n  },\n  {\n    label: 'Office:',\n    name: 'office',\n    type: 'select',\n    qa: 'office',\n  },\n  {\n    label: 'Age:',\n    name: 'age',\n    type: 'number',\n    qa: 'age',\n  },\n  {\n    label: 'Salary:',\n    name: 'salary',\n    type: 'number',\n    qa: 'salary',\n  },\n];\n\nfields.forEach((field) => {\n  const label = document.createElement('label');\n\n  label.textContent = field.label;\n\n  if (field.type === 'select') {\n    const select = document.createElement('select');\n\n    select.setAttribute('name', field.name);\n    select.setAttribute('data-qa', field.qa);\n\n    const options = [\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'Edinburgh',\n      'San Francisco',\n    ];\n\n    options.forEach((option) => {\n      const optionElement = document.createElement('option');\n\n      optionElement.textContent = option;\n      select.appendChild(optionElement);\n    });\n\n    label.appendChild(select);\n  } else {\n    const input = document.createElement('input');\n\n    input.setAttribute('name', field.name);\n    input.setAttribute('type', field.type);\n    input.setAttribute('data-qa', field.qa);\n\n    label.appendChild(input);\n  }\n\n  form.appendChild(label);\n});\n\nconst submitButton = document.createElement('button');\n\nsubmitButton.textContent = 'Save to table';\nsubmitButton.type = 'submit';\nform.appendChild(submitButton);\n\ndocument.body.appendChild(form);\n\nconst showNotification = (posTop, posRight, title, type) => {\n  const notification = document.createElement('div');\n  const h2 = document.createElement('h2');\n\n  h2.innerText = title;\n  h2.classList.add('title');\n  notification.classList.add('notification', `${type}`);\n  notification.setAttribute('data-qa', 'notification');\n  notification.appendChild(h2);\n\n  const page = document.body;\n\n  page.insertAdjacentElement('afterbegin', notification);\n  notification.style.top = `${posTop}px`;\n  notification.style.right = `${posRight}px`;\n\n  setTimeout(() => {\n    notification.style.display = 'none';\n  }, 2000);\n};\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  document\n    .querySelectorAll(`[data-qa=\"notification\"]`)\n    .forEach((el) => el.remove());\n\n  const newRow = document.createElement('tr');\n  let isValid = true;\n\n  fields.forEach((field) => {\n    const value =\n      field.type === 'select'\n        ? form.querySelector(`select[name=${field.name}]`).value\n        : form.querySelector(`input[name=${field.name}]`).value;\n\n    if (field.name === 'name' && value.length < 4 || value.trim() === ' '){\n      showNotification(\n        20,\n        20,\n        'Error: Name must be at least 4 characters long.',\n        'error',\n      );\n      isValid = false;\n    }\n\n\n    if (field.name === 'position' && value.trim() === '') {\n      showNotification(\n        20,\n        20,\n        'Error: Position cannot be empty or only spaces.',\n        'error'\n      );\n      isValid = false;\n    }\n    if (!value) {\n      showNotification(20, 20, 'Error: All fields must be filled.', 'error');\n      isValid = false;\n    }\n\n    if (field.name === 'age' && (value < 18 || value > 90)) {\n      showNotification(\n        20,\n        20,\n        'Error: Age must be between 18 and 90.',\n        'error',\n      );\n      isValid = false;\n    }\n\n    if (isValid) {\n      const cell = document.createElement('td');\n\n      if (field.name === 'salary') {\n        cell.textContent = `$${parseFloat(value).toLocaleString('en-US')}`;\n      } else {\n        cell.textContent = value;\n      }\n      newRow.appendChild(cell);\n    }\n  });\n\n  if (isValid) {\n    table.querySelector('tbody').appendChild(newRow);\n    form.reset();\n\n    showNotification(\n      20,\n      20,\n      'Success: Employee added to the table!',\n      'success',\n    );\n  }\n});\n\ntable.addEventListener('dblclick', (e) => {\n  const target = e.target;\n\n  if (target.tagName === 'TD' && currentEditingCell === null) {\n    const originalText = target.textContent;\n    const input = document.createElement('input');\n\n    target.textContent = '';\n    input.value = originalText;\n    input.classList.add('cell-input');\n    target.appendChild(input);\n    input.focus();\n    currentEditingCell = target;\n\n    input.addEventListener('blur', () => {\n      const newValue = input.value.trim() || originalText;\n\n      target.textContent = newValue;\n      currentEditingCell = null;\n    });\n\n    input.addEventListener('keydown', (ev) => {\n      if (ev.key === 'Enter') {\n        const newValue = input.value.trim() || originalText;\n\n        target.textContent = newValue;\n        currentEditingCell = null;\n      }\n    });\n  }\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}